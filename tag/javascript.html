<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="content-language" content="tr">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rastgele Düşünceler - javascript tag</title>
<link rel="icon" type="image/png" href="/favicon.png" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Ubuntu:700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" media="screen" />
<link rel="stylesheet" href="/css/main.css?cache=20150102-01" media="screen" />
<link href="http://blog.tayfunsen.com/feeds/posts/default.atom" rel="alternate" title="Atom" type="application/atom+xml" />
</head>
<body class="homepage" >
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '482957368512369',
      xfbml      : true,
      version    : 'v2.2'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
<div class="container">
  <header class="mainheader">
    <a href="/"><img class="logo img-circle" src="/images/initials.png"></a>
  </header>
  <div id="content">
<article>
    <div class="postheader">
        <a class="posttitle" href="2010/04/variable-hoisting-in-javascript.html">
            Variable Hoisting in JavaScript
        </a>
        <div class="postmetadata">
            <span>Written <time class="postdate" datetime="2010-04-30 00:00:00+02:00" pubdate title="on Fri 30 April 2010">on Fri 30 April 2010</time></span>
        </div>
    </div>
    <div class="postcontent">
        <p>If you are programming in JavaScript, the odds are that you come from C/C++/Java background and have been bitten by the web development bug. This might cause a couple of problems however, mostly because JavaScript is <a href="http://javascript.crockford.com/javascript.html">"Lisp in C's Clothing"</a>. So you might find yourself a little disoriented with the familiar syntax and sometimes very unintuitive execution. One thing that is not quite so easy to understand is the fact that functions are first class in JavaScript and that they do create <a href="http://en.wikipedia.org/wiki/Closure_(computer_science)">closures</a>. Couple that with <a href="http://en.wikipedia.org/wiki/Scope_(programming)#Lexical_scoping">lexical scoping</a> and you can get some really unexpected results.<br /><br />Connected to the concept of functions being first class is the notion of variable hoisting. Dictionary definition of "<a href="http://en.wiktionary.org/wiki/hoist">hoisting</a>" is lifting or raising something up. And this exactly what JavaScript engines do. Any variable that is declared (be it initialized to a primitive data type, an object or even a method) anywhere in a function will actually be run as if they are declared in the beginning of that function. That is, they are raised to the top of the scope they are in. Initializations for that variable will not run however, since this is not what you normally expect, and because it would have caused rather unexpected run time peculiarities. <br /><br />Consider the following JavaScript snippet:<br /><code><pre><br />function foo() {<br />   // Some other stuff.<br />   // blah blah blah<br /><br />   if (false) {<br />       var myVar = "bar";<br />   }<br /><br />   alert(myVar);<br />}<br />foo();<br /></pre></code><br />When you run above code, you will get an alert box with "undefined" in it. Even though what's inside the "if" conditional is not executed, the variable is nevertheless declared in the beginning of the function. So, in effect, the above code is equivalent to:<br /><code><pre><br />function foo() {<br />   var myVar;<br />   // Some other stuff.<br />   // blah blah blah<br /><br />   if (false) {<br />       myVar = "bar";<br />   }<br /><br />   alert(myVar);<br />}<br />foo();<br /></pre></code><br />Note how the variable is taken and declared at the top while the initialization is left where it was.<br /><br />But wait, there's more. Since the condition for the "if" is never true, execution does not enter inside the block, and thus it doesn't matter where it is placed in our function. Thus, below is equivalent to the two code fragments above:<br /><code><pre><br />function foo() {<br />   // Some other stuff.<br />   // blah blah blah<br /><br />   alert(myVar);<br /><br />   if (false) {<br />       var myVar = "bar";<br />   }<br />}<br />foo();<br /></pre></code><br /><br />Contrast above executions with the below where you'll get a ReferenceError exception because myVar has not been declared.<br /><code><pre><br />function foo() {<br />   // Some other stuff.<br />   // blah blah blah<br />/<em><br />   if (false) {<br />       var myVar = "bar";<br />   }<br /></em>/<br />   alert(myVar);<br />}<br /><br />foo();<br /></pre></code><br />Variable hoisting is actually quite logical when you think about it, but you have to get into the mindset of functional programming. And because of such properties, variable hoisting is asked a lot on JavaScript quizzes found on the web.<br /><br />I have to admit that the above example does not seem very likely in any code, but believe me you will one day come across it if you start coding complex JavaScript applications. When you do find yourself with bugs caused by hoisting, you might also understand the reason behind the coding convention where all variables are declared at the top of the scope, even if they are used at the very bottom. Don't be afraid though, JavaScript is still a beautiful language, if you try to understand it and use "the good parts".</p>
    </div>
    <div class="separator"><div class="separator-ruler"></div><span class="glyphicon glyphicon-star"></span><div class="separator-ruler"></div></div>
</article>
<article>
    <div class="postheader">
        <a class="posttitle" href="2007/03/code-corrupted-insert-fresh-copy.html">
            Code corrupted. Insert fresh copy.
        </a>
        <div class="postmetadata">
            <span>Written <time class="postdate" datetime="2007-03-14 00:00:00+01:00" pubdate title="on Wed 14 March 2007">on Wed 14 March 2007</time></span>
        </div>
    </div>
    <div class="postcontent">
        <p>I recently started blogging again. One of the first things I did, I inserted some javascript code in the usual template that blogger provides. I saved the template and I got a bundle of errors. The first few errors were related to XML parsing, the new blogger engine couldn't parse my code. Apparently this is because of using "&amp;" directly instead of "&amp;amp;", OK my fault. I fix these issues and then when I think that all should be well, I refresh my page to see <blockquote>"Code corrupted. Insert fresh copy." </blockquote>in the place where I inserted the code. After looking at the generated code, I see that my code is not in the place it should be, because the javascript code is actually inside html quotation characters (namely &lt;!-- and --&gt;) so the blogger engine didn't think it was any use and left them out of the generated code. I removed the quotes and voila, it works.<br /><br />Hope this helps someone.<br /><br />--<br /><br />Bloggerda yeni sayılırım, bir javascript kodu eklemeye çalıştığımda çıkan hataları anlatacağım. İlk olarak, şablonu kaydet butonuna tıklayınca blogger amcam ben bunu parse edemiyorum sen bunu XML yap öyle gel dedi. Hemen "&amp;" işaretlerini "&amp;amp;" yaparak isteğini yerine getirdim. Daha sonra şablonu kaydettim. Sevinçle tarayıcımın "yenile" düğmesine basmıştım ki kodun olduğu bölümde <blockquote>"Code corrupted. Insert fresh copy." </blockquote> yazısını gördüm. Blogger amcamın oluşturduğu koda direk sayfadan bakınca eklediğim kodun yerinde yeller estiğini gördüm. Neymiş, blogger amcam javascript kodunun yorum kodları arasında (&lt;!-- ve --&gt;) olduğunu görünce gereksiz olduğunu sanarak oluşturduğu koda eklememiş. Kodu yorumlardan kurtarınca mutlu mesut hayatımıza devam edebiliriz.<br /><br />Umarım birilerine yardımı dokunur.<br /><br />--<br /><br />tayfun</p>
    </div>
    <div class="separator"><div class="separator-ruler"></div><span class="glyphicon glyphicon-star"></span><div class="separator-ruler"></div></div>
</article>


<script type="text/javascript">
    var disqus_shortname = 'tayfunsen';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
  </div><!-- content -->
  <div class="footer">
    &copy; <span id="footername">Tayfun Şen</span> 2015. No <span style="background-color:#ccc; padding: 0 3px"><span style="color:red">p</span><span style="color:green">i</span><span style="color:rgb(8, 8, 161)">x</span><span style="color:rgb(143, 6, 5)">e</span><span style="color:black">l</span><span style="color:#2FA5A7">s</span></span> were harmed in during the making of this website. Powered by <a href="https://github.com/getpelican/pelican">Pelican</a>.
  </div><!-- footer -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/js/main.js"></script>
<script>
var sc_project=2353622;
var sc_invisible=1;
var sc_security="6d6208aa";
</script>
<script src="http://www.statcounter.com/counter/counter.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div><!-- wrapper -->
</body>
</html>