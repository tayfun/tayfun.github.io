<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="content-language" content="tr">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ubuntu 7.04 + VMware | Tayfun Sen</title>
<link rel="icon" type="image/png" href="/favicon.png" />
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Ubuntu:700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" media="screen" />
<link rel="stylesheet" href="/css/main.css?cache=20150102-01" media="screen" />
<link href="http://blog.tayfunsen.com/feeds/posts/default.atom" rel="alternate" title="Atom" type="application/atom+xml" />
</head>
<body class="homepage" >
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '482957368512369',
      xfbml      : true,
      version    : 'v2.2'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
<div class="container">
  <header class="mainheader">
    <a href="/"><img class="logo img-circle" src="/images/initials.png"></a>
  </header>
  <div id="content">
<article>
    <div class="postheader">
        <div class="posttitle">
            Ubuntu 7.04 + VMware
        </div>
        <div class="postmetadata">
            <span>Written <time class="postdate" datetime="2007-04-21 00:00:00+02:00" pubdate title="on Sat 21 April 2007">on Sat 21 April 2007</time></span>
        </div>
    </div>
    <div class="postcontent">
        <p>[Eğer genel derleyici uyarısı "expected declaration specifiers..." için buradaysanız ve vmware ile ilgilenmiyorsanız, sizi <a href="http://blog.tayfunsen.com/2007/10/expected-declaration-specifiers-or.html">şu sayfaya</a> alayım.]<br /><br />[ If you are here for the general compiler error of ""expected declaration specifiers..." and not about installing vmware on ubuntu, <a href="http://blog.tayfunsen.com/2007/10/expected-declaration-specifiers-or.html">click here</a> ]<br />[English follows.]<br /><br /><br />Ubuntu 7.04 çıktı, ben de güncelleme yöneticisine uyarak yükselteyim dedim. VMware yükseltme sonrası çalışmıyordu, tekrar kuruluma başladım. VMware'in vmmon adlı modulü hata verip derlenmedi. Hatamız tam olarak şöyle:<br /><code><br />Using 2.6.x kernel build system.<br />make: Entering directory <code>/tmp/vmware-config2/vmmon-only'&lt;br /&gt;make -C /usr/src/linux-headers-2.6.20-15-386/include/.. SUBDIRS=$PWD SRCROOT=$PWD/. modules&lt;br /&gt;make[1]: Entering directory</code>/usr/src/linux-headers-2.6.20-15-386'<br />  CC [M]  /tmp/vmware-config2/vmmon-only/linux/driver.o<br />In file included from /tmp/vmware-config2/vmmon-only/linux/driver.c:80:<br />/tmp/vmware-config2/vmmon-only/./include/compat_kernel.h:21: error: expected declaration specifiers or ‘...’ before ‘compat_exit’<br />/tmp/vmware-config2/vmmon-only/./include/compat_kernel.h:21: error: expected declaration specifiers or ‘...’ before ‘exit_code’<br />/tmp/vmware-config2/vmmon-only/./include/compat_kernel.h:21: warning: type defaults to ‘int’ in declaration of ‘<em>syscall1’<br />make[2]: <strong><em> [/tmp/vmware-config2/vmmon-only/linux/driver.o] Error 1<br />make[1]: </em></strong> [_module</em>/tmp/vmware-config2/vmmon-only] Error 2<br />make[1]: Leaving directory <code>/usr/src/linux-headers-2.6.20-15-386'&lt;br /&gt;make: *** [vmmon.ko] Error 2&lt;br /&gt;make: Leaving directory</code>/tmp/vmware-config2/vmmon-only'<br />Unable to build the vmmon module.<br /></code><br /><br />Derlenmesini sağlamak için vmmon modülündeki küçük bir hatayı temizlemek gerekiyor. Şöyle ki:<br /><br />VMware kaynak kodlarının olduğu klasöre ve vmmon modül dizinine gidiyoruz.<br /><code><br /># cd /usr/lib/vmware/modules/source<br /></code><br />Tar dosyasını açıyoruz:<br /><code><br /># tar xf vmmon.tar<br /></code><br />Daha sonra sorunlu bölümü değiştiriyoruz:<br /><code><br /># sudo gvim vmmon-only/include/compat_kernel.h<br /></code><br />21. Satırdaki <br /><code><br />static inline _syscall1(int, compat_exit, int, exit_code);<br /></code><br />bölümünü<br /><code><br />#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,19)<br />static inline _syscall1(int, compat_exit, int, exit_code);<br />#endif<br /></code><br />olarak değiştirdikten sonra vmmon.tar dosyamızı tekrar oluşturuyoruz<br /><code><br /># sudo tar cvf vmmon.tar vmmon-only/<br /># sudo rm -rf vmmon-only/<br /></code><br />ve<br /><code><br /># /usr/bin/vmware-config.pl<br /></code><br />komutu ile VMware kurulumunda kaldığımız yerden devam ediyoruz.<br /><br />--<br /><br />English:<br /><br />I recently upgraded to Ubuntu 7.04. I bumped into some problems with the VMware Server Console installation. The error I received when installing is during the vmmon installation. Error message is given above, in the Turkish part of my article. To fix the issue, simply find the vmmon source code directory (most probably /usr/lib/vmware/modules/source ) then add the above code to line 21. After that, simply re-tar the file and run vmware-config.pl to continue the installation. Just follow what I have done in the above article.<br /><br />Hope this helps someone.<br /><br />Cheers.</p>
    </div>
    <div class="postfooter">
        <div class="fb-like" data-share="false" data-width="450" data-show-faces="false" data-layout="button"></div>
        <a href="https://twitter.com/share" class="twitter-share-button" data-via="tayfunsen" data-related="tayfunsen" data-dnt="true">Tweet</a>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'tayfunsen';
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</article>
  </div><!-- content -->
  <div class="footer">
    &copy; <span id="footername">Tayfun Şen</span> 2015. No <span style="background-color:#ccc; padding: 0 3px"><span style="color:red">p</span><span style="color:green">i</span><span style="color:rgb(8, 8, 161)">x</span><span style="color:rgb(143, 6, 5)">e</span><span style="color:black">l</span><span style="color:#2FA5A7">s</span></span> were harmed in during the making of this website. Powered by <a href="https://github.com/getpelican/pelican">Pelican</a>.
  </div><!-- footer -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/js/main.js"></script>
<script>
var sc_project=2353622;
var sc_invisible=1;
var sc_security="6d6208aa";
</script>
<script src="http://www.statcounter.com/counter/counter.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div><!-- wrapper -->
</body>
</html>