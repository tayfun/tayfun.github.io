name: apache-address-already-in-use
layout: post
title: Apache "Address already in use"
time: 2010-01-13 17:10:00 +02:00
tags: [linux]

Say you are configuring SSL for your website and after <a href="http://www.debian-administration.org/article/Setting_up_an_SSL_server_with_Apache2">enabling mod_ssl</a>, <a href="http://httpd.apache.org/docs/2.0/ssl/ssl_faq.html#selfcert">creating self signed certificates</a> and adding necessary configuration options to your virtual host definition you are still getting errors of the sort:<br /><code><br />(98)Address already in use: make_sock: could not bind to address 0.0.0.0:443<br />no listening sockets available, shutting down<br />Unable to open logs<br /></code><br />in your logs, what do you do? You check who is using the port of course, <br /><code><br />$ sudo lsof -i :443<br />$<br /></code><br />But that doesn't lead you anywhere because, guess what, nobody is using port 443. <br /><br />So what is the problem? It might be because there multiple definitions of the same type. In my case it was because of this line:<br /><code><br />Listen 443<br /></code><br />which got executed twice. One problem of Apache is that the configuration files are all over the place. It used to be that many configuration options were in the same apache.conf file before but there's a restructuring going on and newer releases emphasize this. You might find old articles and when you use them you can get in these kinds of troubles. <br /><br />Luckily these problems are not that hard to solve. Just be on the lookout for extra definitions and try to understand which declaration is where and does what. You'll avoid most problems by doing that.
