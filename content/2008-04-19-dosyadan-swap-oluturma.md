name: dosyadan-swap-oluturma
layout: post
title: Dosyadan takas alanı oluşturma
time: 2008-04-19 15:14:00 +03:00

Takas alanı linux'larda sanal bellek alanı olarak kullanılır (scratch veya swap alanı denilir bu alana). Farzedelim ki takas alanınızı büyütmek istiyorsunuz, ki bunun çeşitli nedenleri olabilir. Daha fazla RAM gerektiren uygulamalar kullanıyor olabilirsiniz veya bilgisayarın uyku durumuna geçmesi için daha fazla takas alanı gerekiyor olabilir (benim nedenim bu). Uyku durumunda bellekteki her şey takas alanına yazıldığı için büyüklüğünün yeterli olması gerekiyor.<br /><br />Şimdi takas alanını hard disk bölümlerini kurcalayarak değiştirebilirsiniz ve önerilen yöntem de bu. Ama bunu yapmak istemiyorsanız hızlı ve kirli (quick and dirty :)) bir çözüm var. Bir dosyayı takas alanı olarak kullanabilirsiniz. Önce bir dosya yaratıyoruz:<br /><br /><code># dd if=/dev/zero of=swapfile bs=1024 count=614400</code><br /><br />Bu komut sonlandığında bulunduğunuz dizinde swapfile isimli bir dosya oluşmuş olacak. Dosya büyüklüğü benim durumumda 600 MB. Komutta yazan 614400 rakamı KB cinsinden ne kadar istediğimi söylüyor. Kaç MB'lık takas alanı istiyorsanız 1024 ile çarpıp "count" kısmına yazın. Takas alanını yaratacağınız dizin nispeten az kullanılan bir diskte olursa daha iyi olur.<br /><br />Bundan sonra dosyayı takas yapıyoruz:<br /><br /><code># mkswap swapfile</code><br /><br />Ve etkinleştiriyoruz:<br /><br /><code># swapon swapfile</code><br /><br />Bundan sonra takas alanını kullanmaya başladınız. "free -m" komutu ile veya "cat /proc/swaps" ile yerinizin büyüdüğünü görebilirsiniz. Bu değişikliği her açılışta etkin hale getirmek için /etc/fstab dosyasını değiştirmemiz gerekecek. Dosyaya şöyle bir satır ekleyin:<br /><br /><code>/media/sdb1/swapfile swap    swap   defaults   0   0</code><br /><br />/media/sdb1/swapfile yerine kendi dosyanızın bulunduğu yer yazılmalı.<br /><br />Umarım yardımcı olmuşumdur. İyi günler.
